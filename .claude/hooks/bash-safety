#!/bin/bash
# Claude Code Pre-Bash Hook
# Safety checks for bash commands

COMMAND="$1"

# Allow safe commands without warnings
SAFE_COMMANDS="ls|pwd|echo|cat|head|tail|grep|find|wc|sort|uniq|date|whoami|which|type"

if [[ "$COMMAND" =~ ^($SAFE_COMMANDS) ]]; then
    exit 0
fi

# Warn about potentially destructive commands
DESTRUCTIVE_COMMANDS="rm|del|sudo|chmod|chown|mv|cp.*--force|dd|mkfs|fdisk"

if [[ "$COMMAND" =~ ($DESTRUCTIVE_COMMANDS) ]]; then
    echo "⚠️  Potentially destructive command detected: $COMMAND"
    echo "ℹ️  This command will be executed. Please verify it's safe."
fi

# Allow all commands to proceed (hooks don't block by default)
exit 0